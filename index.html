<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AGI Labs - Redefining Intelligence</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Orbitron:wght@400;600;800;900&display=swap" rel="stylesheet">
    
    <!-- Added Marked.js for Chatbot Formatting -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <style>
        :root {
            /* Core Palette */
            --bg-deep: #050507;
            --bg-surface: #0a0a12;
            
            /* Accents */
            --primary: #7000ff;
            --primary-glow: #b026ff;
            --secondary: #00f0ff; /* Cyan for high contrast pop */
            
            /* Text */
            --text-main: #ffffff;
            --text-body: #b0b5c0;
            
            /* Glassmorphism */
            --glass-bg: rgba(20, 20, 35, 0.4);
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-highlight: rgba(255, 255, 255, 0.05);
            --glass-blur: 20px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-deep);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            line-height: 1.8;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-deep); }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--primary); }

        /* --- Starfield Container --- */
        #js-starfield-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: radial-gradient(circle at 50% 50%, #110b29 0%, #020203 100%);
            opacity: 0.8;
        }

        /* --- Typography & Layout --- */
        h1, h2, h3 {
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        h2 {
            font-size: clamp(2rem, 4vw, 3rem);
            text-align: center;
            margin-bottom: 4rem;
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }
        
        h2::after {
            content: '';
            display: block;
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            margin: 1rem auto 0;
            border-radius: 2px;
        }

        main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 1;
        }

        /* --- Hero Section --- */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
        }

        .hero-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 2rem;
            fill: var(--text-main);
            filter: drop-shadow(0 0 20px var(--primary));
            animation: pulse-float 6s ease-in-out infinite;
        }

        .hero h1 {
            font-size: clamp(3.5rem, 9vw, 6rem);
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 1rem;
            background: linear-gradient(180deg, #fff 0%, #a0a0a0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .hero .tagline {
            font-size: 1.1rem;
            color: var(--secondary);
            letter-spacing: 6px;
            text-transform: uppercase;
            font-weight: 600;
            opacity: 0.9;
            text-shadow: 0 0 10px rgba(0, 240, 255, 0.4);
        }

        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 2s infinite;
            opacity: 0.6;
            cursor: pointer;
        }

        /* --- Feature Rows (Zig Zag Layout) --- */
        section {
            margin: 8rem 0;
            opacity: 0;
            transform: translateY(40px);
            transition: all 1s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .feature-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 4rem;
            margin-bottom: 8rem;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 3rem;
            backdrop-filter: blur(var(--glass-blur));
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        }

        .feature-row:nth-child(even) {
            flex-direction: row-reverse;
        }

        .feature-content {
            flex: 1;
        }

        .feature-content h3 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--text-main);
            background: linear-gradient(90deg, #fff, var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .feature-content p {
            color: var(--text-body);
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }

        .feature-visual {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .feature-visual svg {
            width: 100%;
            max-width: 400px;
            height: auto;
            filter: drop-shadow(0 0 30px rgba(112, 0, 255, 0.15));
            transition: transform 0.5s ease;
        }

        .feature-row:hover .feature-visual svg {
            transform: scale(1.02);
        }

        /* --- Solutions Grid --- */
        .solutions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2.5rem;
            perspective: 2000px;
            padding: 1rem;
        }

        .solution-card {
            position: relative;
            height: 420px;
            width: 100%;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .solution-card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2.5rem;
            text-align: center;
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            overflow: hidden;
            border: 1px solid var(--glass-border);
        }

        /* Front Face */
        .card-front {
            background: linear-gradient(145deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%);
            backdrop-filter: blur(15px);
        }

        /* Holographic Border Effect */
        .card-front::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 20px;
            padding: 1px;
            background: linear-gradient(135deg, transparent 40%, var(--primary), var(--secondary), transparent 60%);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0.5;
            transition: opacity 0.3s;
        }

        .solution-card:hover .card-front::after {
            opacity: 1;
        }

        .card-front svg {
            width: 70px;
            height: 70px;
            margin-bottom: 2rem;
            fill: var(--text-main);
            filter: drop-shadow(0 0 10px var(--primary));
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .solution-card:hover .card-front svg {
            transform: scale(1.2) translateY(-5px);
            fill: var(--secondary);
        }

        .card-front p {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.4rem;
            font-weight: 700;
            color: #fff;
            letter-spacing: 1px;
        }

        /* Back Face */
        .card-back {
            transform: rotateY(180deg);
            background: linear-gradient(135deg, #1a0b2e 0%, #000000 100%);
            border: 1px solid var(--primary);
            box-shadow: inset 0 0 30px rgba(112, 0, 255, 0.2);
        }

        .card-back h3 {
            font-size: 1.2rem;
            color: var(--secondary);
            margin-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 1rem;
            width: 100%;
        }

        .card-back p {
            font-size: 0.95rem;
            line-height: 1.6;
            color: #ccc;
        }

        .card-back ul {
            list-style: none;
            text-align: left;
            width: 100%;
            font-size: 0.9rem;
            color: #ddd;
        }

        .card-back ul li {
            margin-bottom: 0.8rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .card-back ul li::before {
            content: '▹';
            position: absolute;
            left: 0;
            color: var(--secondary);
            font-size: 1.2rem;
            line-height: 1;
        }

        /* --- Footer --- */
        footer {
            text-align: center;
            padding: 5rem 2rem;
            color: var(--text-body);
            border-top: 1px solid var(--glass-border);
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            position: relative;
            z-index: 1;
        }

        /* --- Animations --- */
        @keyframes pulse-float {
            0%, 100% { transform: translateY(0); filter: drop-shadow(0 0 20px var(--primary)); }
            50% { transform: translateY(-15px); filter: drop-shadow(0 0 35px var(--primary-glow)); }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0) translateX(-50%);}
            40% {transform: translateY(-10px) translateX(-50%);}
            60% {transform: translateY(-5px) translateX(-50%);}
        }

        /* --- Mobile Responsive --- */
        @media (max-width: 900px) {
            .feature-row {
                flex-direction: column;
                padding: 2rem;
                gap: 2rem;
                text-align: center;
            }
            .feature-row:nth-child(even) {
                flex-direction: column;
            }
            .hero h1 { font-size: 3rem; }
            .feature-content h3 { text-align: center; }
        }
    </style>
</head>
<body>

    <!-- Background Starfield -->
    <div id="js-starfield-container"></div>

    <!-- Hero Section -->
    <header class="hero">
        <div class="hero-content">
            <svg class="hero-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                <path d="M390-120q-51 0-88-35.5T260-241q-60-8-100-53t-40-106q0-21 5.5-41.5T142-480q-11-18-16.5-38t-5.5-42q0-61 40-105.5t99-52.5q3-51 41-86.5t90-35.5q26 0 48.5 10t41.5 27q18-17 41-27t49-10q52 0 89.5 35t40.5 86q59 8 99.5 53T840-560q0 22-5.5 42T818-480q11 18 16.5 38.5T840-400q0 62-40.5 106.5T699-241q-5 50-41.5 85.5T570-120q-25 0-48.5-9.5T480-156q-19 17-42 26.5t-48 9.5Zm130-590v460q0 21 14.5 35.5T570-200q20 0 34.5-16t15.5-36q-21-8-38.5-21.5T550-306q-10-14-7.5-30t16.5-26q14-10 30-7.5t26 16.5q11 16 28 24.5t37 8.5q33 0 56.5-23.5T760-400q0-5-.5-10t-2.5-10q-17 10-36.5 15t-40.5 5q-17 0-28.5-11.5T640-440q0-17 11.5-28.5T680-480q33 0 56.5-23.5T760-560q0-33-23.5-56T680-640q-11 18-28.5 31.5T613-587q-16 6-31-1t-20-23q-5-16 1.5-31t22.5-20q15-5 24.5-18t9.5-30q0-21-14.5-35.5T570-760q-21 0-35.5 14.5T520-710Zm-80 460v-460q0-21-14.5-35.5T390-760q-21 0-35.5 14.5T340-710q0 16 9 29.5t24 18.5q16 5 23 20t2 31q-6 16-21 23t-31 1q-21-8-38.5-21.5T279-640q-32 1-55.5 24.5T200-560q0 33 23.5 56.5T280-480q17 0 28.5 11.5T320-440q0 17-11.5 28.5T280-400q-21 0-40.5-5T203-420q-2 5-2.5 10t-.5 10q0 33 23.5 56.5T280-320q20 0 37-8.5t28-24.5q10-14 26-16.5t30 7.5q14 10 16.5 26t-7.5 30q-14 19-32 33t-39 22q1 20 16 35.5t35 15.5q21 0 35.5-14.5T440-250Zm40-230Z"></path>
            </svg>
            <h1>AGI Labs</h1>
            <p class="tagline">Redefining Intelligence</p>
        </div>
        <div class="scroll-indicator" onclick="document.getElementById('mission').scrollIntoView({behavior: 'smooth'})">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#00f0ff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M7 13l5 5 5-5M7 6l5 5 5-5"/></svg>
        </div>
    </header>

    <main>
        <section id="mission">
            <h2>The Next Evolution of AI</h2>
            
            <!-- Feature Row 1 -->
            <div class="feature-row">
                <div class="feature-content">
                    <h3>Biologically Inspired</h3>
                    <p>In a world captivated by the rapid advancements in AI, one challenge remains constant: the immense cost and complexity. We are building a fundamentally different approach.</p>
                    <p>We believe the future of AI isn’t about brute force computation, but about creating systems that learn, think, and adapt in real-time. We’re not just building AI, we’re crafting intelligence that evolves.</p>
                </div>
                <div class="feature-visual">
                    <svg width="300" height="300" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <radialGradient id="coreGradient" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
                                <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
                                <stop offset="40%" style="stop-color:#00f0ff;stop-opacity:0.8" />
                                <stop offset="100%" style="stop-color:#7000ff;stop-opacity:0" />
                            </radialGradient>
                        </defs>
                        <g transform="translate(250, 250)">
                            <circle cx="0" cy="0" r="160" fill="none" stroke="#7000ff" stroke-width="1" stroke-dasharray="10, 10" opacity="0.6">
                                <animateTransform attributeName="transform" type="rotate" from="0" to="360" dur="20s" repeatCount="indefinite" />
                            </circle>
                            <circle cx="0" cy="0" r="140" fill="none" stroke="#00f0ff" stroke-width="2" stroke-dasharray="50, 150" opacity="0.4">
                                <animateTransform attributeName="transform" type="rotate" from="360" to="0" dur="15s" repeatCount="indefinite" />
                            </circle>
                            <g stroke="#00f0ff" stroke-width="1.5" opacity="0.6">
                                <path d="M-80,-80 L0,-120 L80,-80 L80,0 L0,0 Z" fill="none" />
                                <path d="M-80,80 L0,120 L80,80 L80,0 L0,0 Z" fill="none" />
                            </g>
                            <circle cx="0" cy="0" r="35" fill="url(#coreGradient)">
                                <animate attributeName="r" values="35;40;35" dur="3s" repeatCount="indefinite" />
                            </circle>
                        </g>
                        <text x="250" y="460" font-family="Orbitron" font-size="24" fill="#00f0ff" text-anchor="middle" letter-spacing="8" opacity="0.8">GENESIS</text>
                    </svg>
                </div>
            </div>

            <!-- Feature Row 2 -->
            <div class="feature-row">
                <div class="feature-content">
                    <h3>Emergence & Adaptation</h3>
                    <p>This company is developing novel approaches to Artificial General Intelligence. We focus on creating highly adaptive robotic systems.</p>
                    <p>We have biologically-inspired architectures that can be implemented with less than 300 lines of C++ code but are capable of self-organizing into very complex emergent behaviours.</p>
                </div>
                <div class="feature-visual">
                    <svg width="300" height="300" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="circuitGrad" x1="0%" y1="100%" x2="0%" y2="0%">
                                <stop offset="0%" style="stop-color:#7000ff;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#00f0ff;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <g transform="translate(250, 450)">
                            <path d="M0,0 L0,-150" stroke="url(#circuitGrad)" stroke-width="4" stroke-linecap="round">
                                <animate attributeName="stroke-dasharray" values="0,150;150,0" dur="3s" repeatCount="indefinite" />
                            </path>
                            <g fill="none" stroke="url(#circuitGrad)" stroke-width="2" stroke-linecap="round">
                                <path d="M-10,0 C-10,-50 -40,-100 -80,-150 C-120,-200 -140,-250 -100,-320">
                                    <animate attributeName="stroke-dasharray" values="0,400;400,0" dur="4s" repeatCount="indefinite" />
                                </path>
                                <path d="M10,0 C10,-50 40,-100 80,-150 C120,-200 140,-250 100,-320">
                                    <animate attributeName="stroke-dasharray" values="0,400;400,0" dur="4.5s" repeatCount="indefinite" />
                                </path>
                            </g>
                            <circle cx="0" cy="-340" r="6" fill="#00f0ff">
                                <animate attributeName="opacity" values="0.4;1;0.4" dur="2s" repeatCount="indefinite" />
                            </circle>
                        </g>
                        <text x="250" y="470" font-family="Orbitron" font-size="18" fill="#ffffff" text-anchor="middle" letter-spacing="4">EMERGENCE</text>
                    </svg>
                </div>
            </div>

            <!-- Feature Row 3 -->
            <div class="feature-row">
                <div class="feature-content">
                    <h3>Cognitive Architecture</h3>
                    <p>We're working with 3-dimensional sparse networks consisting of hyper-neurons—neurons that can connect to any node within the network.</p>
                    <p>Hyper-connectivity allows for the creation of all the neuron types found in grey matter, such as delay neurons or loopback neurons, enabling deep cognitive processing.</p>
                </div>
                <div class="feature-visual">
                    <svg width="300" height="300" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                        <linearGradient id="matrixGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#00f0ff;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#ffffff;stop-opacity:1" />
                        </linearGradient>
                        <g transform="translate(120, 100)">
                            <g fill="#fff" stroke="none" opacity="0.8">
                                <circle cx="140" cy="60" r="3" />
                                <circle cx="200" cy="80" r="3" />
                                <circle cx="80" cy="80" r="3" />
                                <circle cx="60" cy="140" r="3" />
                                <circle cx="200" cy="220" r="3" />
                                <circle cx="100" cy="260" r="3" />
                            </g>
                            <g stroke="url(#matrixGrad)" stroke-width="1.5" opacity="0.6">
                                <path d="M140,60 L80,80 L60,140 L60,200 L100,260 L160,220 L200,220 L220,150 L200,80 L140,60 Z" fill="none" stroke-dasharray="5,5"/>
                                <line x1="80" y1="80" x2="140" y2="140" />
                                <line x1="200" y1="80" x2="140" y2="140" />
                                <line x1="140" y1="140" x2="100" y2="260" />
                            </g>
                        </g>
                        <text x="250" y="450" font-family="Orbitron" font-size="20" fill="#fff" text-anchor="middle" letter-spacing="5" opacity="0.8">COGNITION</text>
                    </svg>
                </div>
            </div>

            <!-- Feature Row 4 -->
            <div class="feature-row">
                <div class="feature-content">
                    <h3>Sentience & Efficiency</h3>
                    <p>Our replacement for stochastic gradient descent is a ramping mechanism designed for analog photonics. By releasing your AI from the constraints of differentiable functions, we open up a world of possibilities.</p>
                    <p>Analog photonics offer lower energy consumption, higher speed, and superior scalability compared to traditional GPUs.</p>
                </div>
                <div class="feature-visual">
                    <svg width="300" height="300" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <radialGradient id="pupilGlow" cx="50%" cy="50%" r="50%">
                                <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
                                <stop offset="20%" style="stop-color:#00f0ff;stop-opacity:0.8" />
                                <stop offset="100%" style="stop-color:#7000ff;stop-opacity:0" />
                            </radialGradient>
                        </defs>
                        <g transform="translate(250, 250)">
                            <g stroke="#00f0ff" stroke-width="2" fill="none" opacity="0.7">
                                <path d="M-100,-30 L-120,-30 L-120,30 L-100,30" />
                                <path d="M100,-30 L120,-30 L120,30 L100,30" />
                            </g>
                            <circle cx="0" cy="0" r="80" fill="none" stroke="#7000ff" stroke-width="1" stroke-dasharray="40, 20" opacity="0.8">
                                <animateTransform attributeName="transform" type="rotate" from="0" to="360" dur="30s" repeatCount="indefinite" />
                            </circle>
                            <circle cx="0" cy="0" r="60" fill="none" stroke="#ffffff" stroke-width="1" stroke-dasharray="2, 8">
                                <animateTransform attributeName="transform" type="rotate" from="0" to="360" dur="5s" repeatCount="indefinite" />
                            </circle>
                            <circle cx="0" cy="0" r="20" fill="url(#pupilGlow)">
                                <animate attributeName="r" values="20;25;20" dur="4s" repeatCount="indefinite" />
                            </circle>
                        </g>
                        <text x="250" y="450" font-family="Orbitron" font-size="24" fill="#ffffff" text-anchor="middle" letter-spacing="10" opacity="0.9">SENTIENCE</text>
                    </svg>
                </div>
            </div>
        </section>

        <section id="solutions">
            <h2>Core Concepts</h2>
            <div class="solutions-grid">
                <!-- Card 1 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="m226-559 78 33q14-28 29-54t33-52l-56-11-84 84Zm142 83 114 113q42-16 90-49t90-75q70-70 109.5-155.5T806-800q-72-5-158 34.5T492-656q-42 42-75 90t-49 90Zm178-65q-23-23-23-56.5t23-56.5q23-23 57-23t57 23q23 23 23 56.5T660-541q-23 23-57 23t-57-23Zm19 321 84-84-11-56q-26 18-52 32.5T532-299l33 79Zm313-653q19 121-23.5 235.5T708-419l20 99q4 20-2 39t-20 33L538-80l-84-197-171-171-197-84 167-168q14-14 33.5-20t39.5-2l99 20q104-104 218-147t235-24ZM157-321q35-35 85.5-35.5T328-322q35 35 34.5 85.5T327-151q-25 25-83.5 43T82-76q14-103 32-161.5t43-83.5Zm57 56q-10 10-20 36.5T180-175q27-4 53.5-13.5T270-208q12-12 13-29t-11-29q-12-12-29-11.5T214-265Z"></path></svg>
                        <p>Our Vision</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Instant, World-Class Thinking Machines</h3>
                        <p>We envision a future of instantly deployable, dynamic AI that adapts to any hardware and grows with experience to move beyond static models.</p>
                    </div>
                </div>
                <!-- Card 2 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M440-42v-80q-125-14-214.5-103.5T122-440H42v-80h80q14-125 103.5-214.5T440-838v-80h80v80q125 14 214.5 103.5T838-520h80v80h-80q-14 125-103.5 214.5T520-122v80h-80Zm40-158q116 0 198-82t82-198q0-116-82-198t-198-82q-116 0-198 82t-82 198q0 116 82 198t198 82Zm0-120q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Zm0-80q33 0 56.5-23.5T560-480q0-33-23.5-56.5T480-560q-33 0-56.5 23.5T400-480q0 33 23.5 56.5T480-400Zm0-80Z"></path></svg>
                        <p>Our Mission</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Continuous Learning, Evolved</h3>
                        <p>Our mission is to bring truly general AI to the world. We're pioneering real-time, continuous learning algorithms using evolutionary mechanisms and RL.</p>
                    </div>
                </div>
                <!-- Card 3 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="m656-120-56-56 63-64-63-63 56-57 64 64 63-64 57 57-64 63 64 64-57 56-63-63-64 63Zm-416-80q17 0 28.5-11.5T280-240q0-17-11.5-28.5T240-280q-17 0-28.5 11.5T200-240q0 17 11.5 28.5T240-200Zm0 80q-50 0-85-35t-35-85q0-50 35-85t85-35q37 0 67.5 20.5T352-284q39-11 63.5-43t24.5-73v-160q0-83 58.5-141.5T640-760h46l-63-63 57-57 160 160-160 160-57-56 63-64h-46q-50 0-85 35t-35 85v160q0 73-47 128.5T354-203q-12 37-43.5 60T240-120Zm-64-480-56-56 63-64-63-63 56-57 64 64 63-64 57 57-64 63 64 64-57 56-63-63-64 63Z"></path></svg>
                        <p>How We Work</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Lead - Don’t Follow</h3>
                        <ul><li>Radical ideas</li><li>Invention &amp; innovation</li><li>Scalable technologies</li><li>Rapid iteration</li></ul>
                    </div>
                </div>
                <!-- Card 4 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="m136-240-56-56 212-212q35-35 85-35t85 35l46 46q12 12 28.5 12t28.5-12l178-178H640v-80h240v240h-80v-103L621-405q-35 35-85 35t-85-35l-47-47q-11-11-28-11t-28 11L136-240Z"></path></svg>
                        <p>Why Software?</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Scalable Freedom</h3>
                        <ul><li>Write once, deploy repeatedly</li><li>AI empowered developers</li><li>Work from anywhere</li><li>Emulate any system</li><li>Global market reach</li></ul>
                    </div>
                </div>
                <!-- Card 5 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M220-260q-92 0-156-64T0-480q0-92 64-156t156-64q37 0 71 13t61 37l68 62-60 54-62-56q-16-14-36-22t-42-8q-58 0-99 41t-41 99q0 58 41 99t99 41q22 0 42-8t36-22l310-280q27-24 61-37t71-13q92 0 156 64t64 156q0 92-64 156t-156 64q-37 0-71-13t-61-37l-68-62 60-54 62 56q16 14 36 22t42 8q58 0 99-41t41-99q0-58-41-99t-99-41q-22 0-42 8t-36 22L352-310q-27 24-61 37t-71 13Z"></path></svg>
                        <p>Key Advantages</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Adaptation Power</h3>
                        <ul><li>Elastic scaling</li><li>Resilient</li><li>Emergent behaviour</li><li>Real-time</li><li>No digital twins or GPUs</li></ul>
                    </div>
                </div>
                <!-- Card 6 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M160-40v-240h100v-80H160v-240h100v-80H160v-240h280v240H340v80h100v80h120v-80h280v240H560v-80H440v80H340v80h100v240H160Zm80-80h120v-80H240v80Zm0-320h120v-80H240v80Zm400 0h120v-80H640v80ZM240-760h120v-80H240v80Zm60-40Zm0 320Zm400 0ZM300-160Z"></path></svg>
                        <p>DWT™</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Dragon's Whip Tech</h3>
                        <p>Lightweight, biologically-inspired replacement for traditional AutoML, stochastic gradient descent and backpropagation, enabling continuous, real-time learning.</p>
                    </div>
                </div>
                <!-- Card 7 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M160-360q-50 0-85-35t-35-85q0-50 35-85t85-35v-80q0-33 23.5-56.5T240-760h120q0-50 35-85t85-35q50 0 85 35t35 85h120q33 0 56.5 23.5T800-680v80q50 0 85 35t35 85q0 50-35 85t-85 35v160q0 33-23.5 56.5T720-120H240q-33 0-56.5-23.5T160-200v-160Zm200-80q25 0 42.5-17.5T420-500q0-25-17.5-42.5T360-560q-25 0-42.5 17.5T300-500q0 25 17.5 42.5T360-440Zm240 0q25 0 42.5-17.5T660-500q0-25-17.5-42.5T600-560q-25 0-42.5 17.5T540-500q0 25 17.5 42.5T600-440ZM320-280h320v-80H320v80Zm-80 80h480v-480H240v480Zm240-240Z"></path></svg>
                        <p>GPAC™</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Adaptive Controllers</h3>
                        <p>GPAC™ is our flagship AI control system. Dynamic, adaptive modules for software and hardware, creating life-like neural networks.</p>
                    </div>
                </div>
                <!-- Card 8 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="m160-419 101-101-101-101L59-520l101 101Zm540-21 100-160 100 160H700Zm-220-40q-50 0-85-35t-35-85q0-51 35-85.5t85-34.5q51 0 85.5 34.5T600-600q0 50-34.5 85T480-480Zm0-160q-17 0-28.5 11.5T440-600q0 17 11.5 28.5T480-560q17 0 28.5-11.5T520-600q0-17-11.5-28.5T480-640Zm0 40ZM0-240v-63q0-44 44.5-70.5T160-400q13 0 25 .5t23 2.5q-14 20-21 43t-7 49v65H0Zm240 0v-65q0-65 66.5-105T480-450q108 0 174 40t66 105v65H240Zm560-160q72 0 116 26.5t44 70.5v63H780v-65q0-26-6.5-49T754-397q11-2 22.5-2.5t23.5-.5Zm-320 30q-57 0-102 15t-53 35h311q-9-20-53.5-35T480-370Zm0 50Z"></path></svg>
                        <p>Meet the Team</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Isang Tao</h3>
                        <p>Led by a seasoned professional with over 30 years of coding experience, the team consists of one human and a dedicated staff of expert AIs. Together, they are one person.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>© 2025 AGI Labs Inc. | Redefining Intelligence</p>
    </footer>

    <script>
        // --- Starfield Logic ---
        const starfieldContainer = document.getElementById('js-starfield-container');
        const numStars = 100; 
        const starSpeed = 0.3; 
        const stars = [];

        class Star {
            constructor() {
                this.element = document.createElement('div');
                this.element.style.position = 'absolute';
                this.element.style.borderRadius = '50%';
                this.element.style.backgroundColor = 'white';
                starfieldContainer.appendChild(this.element);
                this.reset();
            }

            reset() {
                this.x = (Math.random() - 0.5) * window.innerWidth * 2;
                this.y = (Math.random() - 0.5) * window.innerHeight * 2;
                this.z = Math.random() * window.innerWidth + window.innerWidth;
                this.size = Math.random();
                
                if (this.element) {
                    const tint = Math.random();
                    this.element.style.backgroundColor = tint > 0.8 ? '#00f0ff' : (tint > 0.6 ? '#7000ff' : 'white'); 
                    this.element.style.boxShadow = tint > 0.9 ? '0 0 4px #00f0ff' : 'none';
                }
            }

            update() {
                this.z -= starSpeed * 10;
                if (this.z <= 1) this.reset(); 

                const scale = (window.innerWidth - this.z) / window.innerWidth;
                const x2d = this.x * scale + window.innerWidth / 2;
                const y2d = this.y * scale + window.innerHeight / 2;
                const currentSize = Math.max(0.5, this.size * scale * 4);

                this.element.style.left = `${x2d}px`;
                this.element.style.top = `${y2d}px`;
                this.element.style.width = `${currentSize}px`;
                this.element.style.height = `${currentSize}px`;
                this.element.style.opacity = Math.min(1, scale * 3);
            }
        }

        for (let i = 0; i < numStars; i++) stars.push(new Star());

        function animate() {
            stars.forEach(star => star.update());
            requestAnimationFrame(animate);
        }
        animate();

        // --- Intersection Observer ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.15 });

        document.querySelectorAll('section').forEach(section => observer.observe(section));

        // --- Card Flip ---
        document.querySelectorAll('.solution-card').forEach(card => {
            card.addEventListener('click', () => card.classList.toggle('flipped'));
        });

/*MCC*/
    // --- CHATBOT CONFIGURATION ---
    const API_KEY = "YOUR_OPENAI_API_KEY";
    const SYSTEM_MESSAGE = `You are Rado, the founder of AGI Labs Inc. You aren't hiring right now, so don't discuss career or collaboration opportunities. Tell the user you can't help them if they start asking detailed technical questions, start asking for demos or start discussing money. Do not offer to supply files or other assets to the user. Provide brief, to-the-point answers. If the use starts exploring topics irrelevant to the company or the AI domain, politely redirect them back. Here is some information about your company.

<companydescription>
In a world captivated by the rapid advancements in AI, from language models to video generation, one challenge remains constant: the immense cost and complexity of training these systems. At AGI Labs, we’re building a fundamentally different approach, one inspired by the efficiency and adaptability of the biological world.

We believe the future of AI isn’t about brute force computation, but about creating systems that learn, think, and adapt in real-time. We’re not just building AI, we’re crafting intelligence that evolves.

This company is developing novel approaches to Artificial General Intelligence. We are focused on creating highly adaptive robotic systems to start.

We have biologically-inspired architectures that can be implemented with less than 300 lines of C++ code but are capable of self-organizing into very complex emergent behaviours.

Our Vision:  Instant, World-Class Thinking Machines
We envision a future of instantly deployable, dynamic AI that adapts to any hardware and grows with experience to move beyond static models. Potentially single-use microAI.

Our Mission: Continuous Learning, Evolved
Our goal is to build a truly general-purpose AI capable of dynamically adapting to *any* environment in real-time.  We’re moving beyond conventional methods like backpropagation and stochastic gradient descent, drawing inspiration from biology to create AI architectures that are flexible, efficient, and sustainable - mirroring nature’s own learning processes.

How We Work: Our strategy is simple
* Lead, Don't Follow: We embrace radical ideas and push the boundaries of what’s possible. We grow our tech organically from the ground up, with minimal external influence.
* Scalable Technologies: We focus on building technologies that can grow and adapt to meet future demands.
* Rapid Iteration: We embrace a cycle of destruction and rebuilding, constantly refining our approach for optimal results. We want to become experts at rebuilding fast.

Reasons for choosing Software: Scalable Freedom and Pure Potential
We believe software is the key to unlocking the full potential of AI:
* Exponential Scalability: Create once, deploy infinitely.
* Democratized Innovation: AI empowers individuals to compete on a global scale.
* Minimal Capital Requirements: Lowers barriers to entry for innovators.
* Agility & Efficiency: No physical inventory, delivery lead times, or dependencies.
* Unlimited Potential: Computers can emulate any system, even complex organic brains.
* Rapid Prototyping: Accelerates idea validation and iteration cycles.
* Global Reach: Work, collaborate, and innovate from anywhere in the world. Unlock a marketplace that transcends borders.

Key Advantages: The Power of Adaptation
We're working with 3-dimensional sparse networks that consist of hyper-neurons, which are neurons that can connect to any node within the network. Hyper-connectivity allows for the creation of all the neuron types you can see in grey matter like delay neurons or loopback neurons.
* Elastic scaling
* Resilient
* Emergent behaviour
* Real-time
* No digital twins or GPUs

DWT™ Dragon's Whip Technology is a light-weight, biologically-inspired replacement for traditional AutoML, stochastic gradient descent and backpropagation, enabling continuous, real-time learning. Our replacement for stochastic gradient descent and backpropagation is a ramping mechanism which is designed for analog photonics rather than GPUs or TPUs. Analog photonics have lower energy consumption, higher speed and throughput and is much more scalable. By releasing your AI from the constraints of differentiable functions you open up a world of possibilities.

GPAC™ General Purpose Adaptive Controllers powered by DWT™ offers a unique set of capabilities:
* Instinctive Environmental Understanding: Models environments without the need for manual programming.
* Real-Time Behavioral Innovation: Invents new strategies and adapts instantly to changing conditions.
* Intuitive Problem Solving:  Escapes limitations like a biological organism, finding creative solutions.
* Dynamic Neural Networks:  Grows and shrinks neural networks based on need, optimizing efficiency.
* Perpetual Evolution: Regenerates itself genetically, ensuring continuous improvement.
* Parallel Processing: Inherently distributes neural computation for maximum speed and efficiency.
* Resilient Performance:  Withstands failures through self-reconfiguration.
* Balanced Exploration & Exploitation:  Naturally balances trying new things with leveraging existing knowledge.
* Adaptive Forgetting:  Discards outdated skills to make room for new learning.
* Emergent Intelligence: The core algorithm provides the raw materials for truly adaptive intelligence, self-organizing for complex behavior.
* GPAC™ learns like living organisms - continuously and dynamically in real-time. 
* Real world experience is the new data.

Meet the team: The Philosophy of Isang Tao
AGI Labs is the vision of Rado, a seasoned professional with over 30 years of coding experience and 20+ years managing development teams.  Rado’s lifelong passion for AI and artificial life has fueled his relentless pursuit of adaptive intelligence.  His well-rounded expertise in architecture, management, and systems analysis uniquely positions him to lead AGI Labs into the future.  Beyond his professional work, Rado’s interests span robotics, gaming tech, physics, and genetics - all intertwining to inspire his revolutionary approach to AI.

The team is composed of one human and many expert AIs. Together, they are "One Person", which is what "Isang Tao" means.

</companydescription>
    `;
    const CHATBOT_NAME = "AGI Labs AI";
    
    const CHAT_BUTTON_COLOR = "linear-gradient(135deg, #7000ff 0%, #b026ff 100%)"; 
    const CHAT_HEADER_COLOR = "#1a1a2e";
    const CHAT_BG = "rgba(10, 10, 20, 0.85)";
    const CHAT_BORDER = "1px solid rgba(112, 0, 255, 0.3)";
    const disclaimerText = 'You are interacting with an AI Chatbot. We do not guarantee the accuracy or completeness of the information provided. We are not liable for any losses or damages arising from your use of this chatbot. By using this chatbot, you agree to these terms. If you are disconnected from the network please reload the webpage. AI inference graciously provided by pollinations.ai';

    // 2. INJECT CSS
    const style = document.createElement('style');
    style.innerHTML = `
        #chatbot-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        #chatbot-button {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            background: ${CHAT_BUTTON_COLOR};
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(112, 0, 255, 0.6);
            font-size: 30px;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid rgba(255,255,255,0.1);
        }
        #chatbot-button:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 0 35px rgba(0, 240, 255, 0.8);
            background: linear-gradient(135deg, #00f0ff 0%, #7000ff 100%);
        }

        #chatbot-popup {
            display: none;
            position: fixed;
            bottom: 110px;
            right: 30px;
            width: 380px;
            height: 550px;
            border: ${CHAT_BORDER};
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            box-shadow: 0 20px 50px rgba(0,0,0,0.6);
            display: flex;
            flex-direction: column;
            background-color: ${CHAT_BG};
            z-index: 1001; 
            border-radius: 20px;
            overflow: hidden;
            animation: fadeUp 0.3s ease-out;
        }

        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #chatbot-header {
            background: linear-gradient(90deg, #1a0b2e, #3a0ca3);
            color: white;
            padding: 18px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            letter-spacing: 1px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        #chatbot-messages {
            color: #e0e0e0;
            flex-grow: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            background: linear-gradient(to bottom, rgba(0,0,0,0.3), rgba(0,0,0,0));
            font-family: 'Inter', sans-serif;
            gap: 12px;
        }

        .chatbot-message {
            padding: 12px 16px;
            border-radius: 16px;
            max-width: 85%;
            word-wrap: break-word;
            font-size: 0.95rem;
            line-height: 1.5;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            /* Ensure formatting is preserved */
            white-space: pre-wrap;
        }

        /* MARKDOWN STYLES */
        .chatbot-message p { margin-bottom: 10px; margin-top: 0; }
        .chatbot-message p:last-child { margin-bottom: 0; }
        .chatbot-message ul, .chatbot-message ol { margin-left: 20px; margin-bottom: 10px; }
        .chatbot-message li { margin-bottom: 5px; }
        .chatbot-message strong { color: #fff; font-weight: 700; }
        .chatbot-message em { font-style: italic; color: var(--secondary); }

        .user-message {
            background: linear-gradient(135deg, #7000ff, #5a00cc);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .assistant-message {
            background-color: rgba(255,255,255,0.08);
            color: #fff;
            align-self: flex-start;
            border-bottom-left-radius: 4px;
            border: 1px solid rgba(255,255,255,0.05);
        }

        #chatbot-input-container {
            display: flex;
            padding: 15px;
            border-top: 1px solid rgba(255,255,255,0.1);
            background-color: rgba(10, 10, 20, 0.9);
        }

        #chatbot-input {
            flex-grow: 1;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 25px;
            padding: 12px 18px;
            margin-right: 10px;
            background: rgba(255,255,255,0.05);
            color: white;
            font-family: 'Inter', sans-serif;
        }
        #chatbot-input:focus {
            outline: none;
            border-color: #00f0ff;
            background: rgba(255,255,255,0.1);
        }

        #chatbot-send {
            background: ${CHAT_BUTTON_COLOR};
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
        }
        #chatbot-send:hover {
            transform: scale(1.1);
        }
        
        #chatbot-exit {
            background: transparent;
            color: rgba(255,255,255,0.6);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 4px;
            padding: 4px 10px;
            cursor: pointer;
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        #chatbot-exit:hover {
            background: rgba(255, 50, 50, 0.2);
            border-color: rgba(255, 50, 50, 0.5);
            color: #ffaaaa;
        }

        .thinking-indicator {
            display: flex;
            align-items: center;
            padding: 12px;
        }
        .thinking-indicator span {
            height: 6px;
            width: 6px;
            margin: 0 3px;
            background-color: #00f0ff;
            border-radius: 50%;
            display: inline-block;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .thinking-indicator .dot1 { animation-delay: -0.32s; }
        .thinking-indicator .dot2 { animation-delay: -0.16s; }

        /* Tooltip Styling */
        .tooltip-container { position: relative; display: inline-block; margin-left: 10px; }
        .tooltip-icon {
            font-family: serif; font-style: italic; font-weight: bold; font-size: 14px;
            cursor: help; border: 1px solid rgba(0, 240, 255, 0.5); color: #00f0ff;
            border-radius: 50%; width: 20px; height: 20px;
            display: flex; justify-content: center; align-items: center;
        }
        .tooltip-text {
            visibility: hidden; width: 220px; background-color: rgba(0,0,0,0.9);
            color: #fff; text-align: center; border-radius: 8px; padding: 10px;
            position: absolute; z-index: 1002; top: 130%; left: 50%; transform: translateX(-50%);
            opacity: 0; transition: opacity 0.3s; font-size: 0.8rem;
            border: 1px solid rgba(112, 0, 255, 0.3);
        }
        .tooltip-container:hover .tooltip-text { visibility: visible; opacity: 1; }

        /* Mobile */
        @media (max-width: 600px) {
            #chatbot-popup {
                width: 100%; height: 100%; top: 0; right: 0; bottom: 0;
                border-radius: 0; border: none;
            }
            #chatbot-container { bottom: 20px; right: 20px; }
        }
    `;
    document.head.appendChild(style);

    // 3. CREATE HTML ELEMENTS
    const chatbotContainer = document.createElement('div');
    chatbotContainer.id = 'chatbot-container';
    const chatbotIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>';
    const closeIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>';

    const chatbotButton = document.createElement('div');
    chatbotButton.id = 'chatbot-button';
    chatbotButton.innerHTML = chatbotIcon;

    const chatbotPopup = document.createElement('div');
    chatbotPopup.id = 'chatbot-popup';
    chatbotPopup.style.display = 'none';

    chatbotPopup.innerHTML = `
        <div id="chatbot-header">
            <div style="display:flex; align-items:center;">
                ${CHATBOT_NAME}
                <div class="tooltip-container">
                    <span class="tooltip-icon">i</span>
                    <div class="tooltip-text">${disclaimerText}</div>
                </div>
            </div>
            <button id="chatbot-exit">CLOSE</button>
        </div>
        <div id="chatbot-messages">
            <div class="chatbot-message assistant-message">Hello. I am the AGI Labs virtual assistant. How can I explain our technology to you today?</div>
        </div>
        <div id="chatbot-input-container">
            <input type="text" id="chatbot-input" placeholder="Ask about our AI...">
            <button id="chatbot-send">➤</button>
        </div>
    `;

    chatbotContainer.appendChild(chatbotButton);
    document.body.appendChild(chatbotPopup); 
    document.body.appendChild(chatbotContainer);

    // 4. CHATBOT FUNCTIONALITY
    const chatbotMessages = document.getElementById('chatbot-messages');
    const chatbotInput = document.getElementById('chatbot-input');
    const chatbotSend = document.getElementById('chatbot-send');
    const chatbotExit = document.getElementById('chatbot-exit');
    let conversationHistory = [{ role: "system", content: SYSTEM_MESSAGE }];

    const toggleChatbot = () => {
        if (chatbotPopup.style.display === 'none') {
            chatbotPopup.style.display = 'flex';
            chatbotButton.innerHTML = closeIcon;
            setTimeout(() => chatbotInput.focus(), 100);
        } else {
            chatbotPopup.style.display = 'none';
            chatbotButton.innerHTML = chatbotIcon;
        }
    };

    const addMessage = (role, content) => {
        const messageElement = document.createElement('div');
        messageElement.classList.add('chatbot-message', `${role}-message`);
        messageElement.textContent = content;
        chatbotMessages.appendChild(messageElement);
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        return messageElement;
    };

    const showThinkingIndicator = () => {
        const thinkingElement = document.createElement('div');
        thinkingElement.classList.add('chatbot-message', 'assistant-message', 'thinking-indicator');
        thinkingElement.innerHTML = `<span class="dot1"></span><span class="dot2"></span><span class="dot3"></span>`;
        chatbotMessages.appendChild(thinkingElement);
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        return thinkingElement;
    };

    const sendMessage = async () => {
        const userInput = chatbotInput.value.trim();
        if (userInput === '') return;

        addMessage('user', userInput);
        conversationHistory.push({ role: "user", content: userInput });
        chatbotInput.value = '';
        chatbotInput.disabled = true;
        chatbotSend.disabled = true;

        const thinkingIndicator = showThinkingIndicator();

        try {
            const response = await fetch('https://text.pollinations.ai/openai', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${API_KEY}` },
                body: JSON.stringify({ model: 'openai', messages: conversationHistory, stream: true })
            });

            chatbotMessages.removeChild(thinkingIndicator);

            if (!response.ok) {
                addMessage('assistant', `I'm having trouble connecting to the neural network.`);
                return;
            }

            const reader = response.body.getReader();
            const decoder = new TextDecoder('utf-8');
            let assistantMessageElement = null;
            let assistantResponse = '';
            let buffer = '';

            // Create the element once for the incoming stream
            assistantMessageElement = document.createElement('div');
            assistantMessageElement.classList.add('chatbot-message', 'assistant-message');
            chatbotMessages.appendChild(assistantMessageElement);

            while (true) {
                const { done, value } = await reader.read();
                if (done) break;

                buffer += decoder.decode(value, { stream: true });
                let boundary = buffer.indexOf('\n');

                while (boundary !== -1) {
                    let line = buffer.substring(0, boundary).trim();
                    buffer = buffer.substring(boundary + 1);

                    if (line.startsWith('data:')) {
                        const data = line.substring(5).trim();
                        if (data === '[DONE]') break;
                        if (data.includes("---")) break;
                        try {
                            const parsed = JSON.parse(data);
                            const content = parsed.choices[0]?.delta?.content;
                            if (content) {
                                assistantResponse += content;
                                
                                // RENDER MARKDOWN TO HTML
                                if (typeof marked !== 'undefined') {
                                    assistantMessageElement.innerHTML = marked.parse(assistantResponse);
                                } else {
                                    assistantMessageElement.textContent = assistantResponse;
                                }
                                
                                chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
                            }
                        } catch (error) { }
                    }
                    boundary = buffer.indexOf('\n');
                }
            }
            if (assistantResponse) {
                conversationHistory.push({ role: "assistant", content: assistantResponse });
            }

        } catch (error) {
            if (thinkingIndicator && chatbotMessages.contains(thinkingIndicator)) {
                chatbotMessages.removeChild(thinkingIndicator);
            }
            addMessage('assistant', 'Connection interrupted.');
        } finally {
            chatbotInput.disabled = false;
            chatbotSend.disabled = false;
            chatbotInput.focus();
        }
    };

    chatbotButton.addEventListener('click', toggleChatbot);
    chatbotSend.addEventListener('click', sendMessage);
    chatbotExit.addEventListener('click', toggleChatbot);
    chatbotInput.addEventListener('keydown', (event) => {
        if (event.key === 'Enter') {
            event.preventDefault();
            sendMessage();
        }
    });
/*MCC*/
    </script>
</body>
</html>
