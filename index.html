<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AGI Labs - Redefining Intelligence</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Orbitron:wght@400;600;800;900&display=swap"
        rel="stylesheet">

    <!-- Marked.js for Chatbot Formatting -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- Custom Styles -->
    <style>
    :root {
    /* Core Palette - Deep Space */
    --bg-deep: #030014;
    --bg-surface: #0f0c29;
    
    /* Accents - Neon Cyberpunk */
    --primary: #7000ff;
    --primary-glow: #b026ff;
    --secondary: #00f0ff;
    --secondary-glow: #00c3ff;
    --accent: #ff0055;
    
    /* Text */
    --text-main: #ffffff;
    --text-muted: #a0a0b0;
    
    /* Glassmorphism */
    --glass-bg: rgba(255, 255, 255, 0.03);
    --glass-border: rgba(255, 255, 255, 0.08);
    --glass-highlight: rgba(255, 255, 255, 0.15);
    --glass-blur: 20px;
    
    /* Spacing */
    --section-spacing: 120px;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background-color: var(--bg-deep);
    color: var(--text-main);
    font-family: 'Inter', sans-serif;
    line-height: 1.6;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
}

/* --- Typography --- */
h1, h2, h3, h4 {
    font-family: 'Orbitron', sans-serif;
    text-transform: uppercase;
    letter-spacing: 2px;
}

h1 {
    font-size: clamp(3rem, 8vw, 6rem);
    font-weight: 900;
    line-height: 1.1;
    margin-bottom: 1.5rem;
    background: linear-gradient(180deg, #fff 0%, #ccc 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 0 30px rgba(255,255,255,0.3));
}

h2 {
    font-size: clamp(2rem, 5vw, 3.5rem);
    text-align: center;
    margin-bottom: 5rem;
    position: relative;
    display: inline-block;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(90deg, var(--text-main), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

p {
    color: var(--text-muted);
    font-size: 1.1rem;
    margin-bottom: 1.5rem;
}

/* --- Layout --- */
main {
    max-width: 1440px;
    margin: 0 auto;
    padding: 0 2rem;
    position: relative;
    z-index: 2;
}

section {
    margin-bottom: var(--section-spacing);
    opacity: 0;
    transform: translateY(50px);
    transition: all 1s cubic-bezier(0.2, 0.8, 0.2, 1);
}

section.visible {
    opacity: 1;
    transform: translateY(0);
}

/* --- Backgrounds --- */
#starfield {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
    background: radial-gradient(circle at center, #1a0b2e 0%, #000 100%);
}

.grid-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    background-image: 
        linear-gradient(rgba(112, 0, 255, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(112, 0, 255, 0.1) 1px, transparent 1px);
    background-size: 50px 50px;
    opacity: 0.15;
    pointer-events: none;
    mask-image: radial-gradient(circle at center, black 40%, transparent 80%);
}

/* --- Hero Section --- */
.hero {
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    position: relative;
    z-index: 2;
}

.hero-logo {
    width: 150px;
    height: 150px;
    margin-bottom: 2rem;
    fill: var(--text-main);
    filter: drop-shadow(0 0 40px var(--primary));
    animation: float 6s ease-in-out infinite;
}

.tagline {
    font-size: 1.2rem;
    color: var(--secondary);
    letter-spacing: 8px;
    text-transform: uppercase;
    font-weight: 600;
    text-shadow: 0 0 20px var(--secondary);
    margin-bottom: 3rem;
}

.scroll-btn {
    position: absolute;
    bottom: 50px;
    left: 50%;
    transform: translateX(-50%);
    cursor: pointer;
    transition: all 0.3s ease;
    animation: bounce 2s infinite;
}

.scroll-btn:hover {
    filter: drop-shadow(0 0 15px var(--secondary));
}

/* --- Feature Rows --- */
.feature-row {
    display: flex;
    align-items: center;
    gap: 5rem;
    margin-bottom: 10rem;
    padding: 4rem;
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 30px;
    backdrop-filter: blur(var(--glass-blur));
    box-shadow: 0 20px 80px rgba(0,0,0,0.5);
    position: relative;
    overflow: hidden;
}

.feature-row::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(120deg, transparent, rgba(255,255,255,0.05), transparent);
    transform: translateX(-100%);
    transition: 0.5s;
}

.feature-row:hover::before {
    transform: translateX(100%);
    transition: 0.8s;
}

.feature-row:nth-child(even) {
    flex-direction: row-reverse;
}

.feature-content {
    flex: 1;
}

.feature-content h3 {
    font-size: 1.8rem;
    margin-bottom: 1.5rem;
    color: var(--text-main);
    text-shadow: 0 0 20px rgba(112, 0, 255, 0.5);
}

.feature-visual {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
}

.feature-visual svg {
    width: 100%;
    max-width: 450px;
    height: auto;
    filter: drop-shadow(0 0 40px rgba(112, 0, 255, 0.2));
    transition: transform 0.5s ease;
}

.feature-row:hover .feature-visual svg {
    transform: scale(1.05) rotate(2deg);
}

/* --- Solutions Grid (3D Cards) --- */
.solutions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 3rem;
    perspective: 2000px;
}

.solution-card {
    height: 450px;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
    cursor: pointer;
}

.solution-card.flipped {
    transform: rotateY(180deg);
}

.card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 24px;
    padding: 3rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(30px);
    box-shadow: 0 20px 60px rgba(0,0,0,0.4);
    overflow: hidden;
}

.card-front::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 24px;
    padding: 2px;
    background: linear-gradient(135deg, transparent, var(--primary), var(--secondary), transparent);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0.5;
}

.card-front svg {
    width: 80px;
    height: 80px;
    margin-bottom: 2rem;
    fill: var(--text-main);
    filter: drop-shadow(0 0 15px var(--primary));
    transition: all 0.4s ease;
}

.solution-card:hover .card-front svg {
    transform: translateY(-10px) scale(1.1);
    fill: var(--secondary);
    filter: drop-shadow(0 0 25px var(--secondary));
}

.card-front p {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.5rem;
    font-weight: 700;
    color: #fff;
    letter-spacing: 2px;
    margin: 0;
}

.card-back {
    transform: rotateY(180deg);
    background: linear-gradient(145deg, #150a25 0%, #05050a 100%);
    border: 1px solid var(--primary);
}

.card-back h3 {
    color: var(--secondary);
    font-size: 1.4rem;
    margin-bottom: 1.5rem;
    border-bottom: 1px solid rgba(255,255,255,0.1);
    padding-bottom: 1rem;
    width: 100%;
}

.card-back ul {
    list-style: none;
    text-align: left;
    width: 100%;
}

.card-back li {
    margin-bottom: 0.8rem;
    padding-left: 1.5rem;
    position: relative;
    color: var(--text-muted);
}

.card-back li::before {
    content: '>';
    position: absolute;
    left: 0;
    color: var(--primary);
    font-weight: bold;
}

/* --- Footer --- */
footer {
    text-align: center;
    padding: 4rem;
    background: linear-gradient(to top, #000, transparent);
    border-top: 1px solid var(--glass-border);
    position: relative;
    z-index: 2;
}

/* --- Animations --- */
@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0) translateX(-50%); }
    40% { transform: translateY(-10px) translateX(-50%); }
    60% { transform: translateY(-5px) translateX(-50%); }
}

/* --- Mobile --- */
@media (max-width: 900px) {
    .feature-row, .feature-row:nth-child(even) {
        flex-direction: column;
        padding: 2rem;
        gap: 2rem;
    }
    
    h1 { font-size: 3.5rem; }
    h2 { font-size: 2.5rem; }
}

    </style>
</head>

<body>

    <!-- Background Starfield -->
    <div id="starfield"></div>
    <div class="grid-overlay"></div>

    <!-- Hero Section -->
    <header class="hero">
        <div class="hero-content">
            <svg class="hero-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                <path
                    d="M390-120q-51 0-88-35.5T260-241q-60-8-100-53t-40-106q0-21 5.5-41.5T142-480q-11-18-16.5-38t-5.5-42q0-61 40-105.5t99-52.5q3-51 41-86.5t90-35.5q26 0 48.5 10t41.5 27q18-17 41-27t49-10q52 0 89.5 35t40.5 86q59 8 99.5 53T840-560q0 22-5.5 42T818-480q11 18 16.5 38.5T840-400q0 62-40.5 106.5T699-241q-5 50-41.5 85.5T570-120q-25 0-48.5-9.5T480-156q-19 17-42 26.5t-48 9.5Zm130-590v460q0 21 14.5 35.5T570-200q20 0 34.5-16t15.5-36q-21-8-38.5-21.5T550-306q-10-14-7.5-30t16.5-26q14-10 30-7.5t26 16.5q11 16 28 24.5t37 8.5q33 0 56.5-23.5T760-400q0-5-.5-10t-2.5-10q-17 10-36.5 15t-40.5 5q-17 0-28.5-11.5T640-440q0-17 11.5-28.5T680-480q33 0 56.5-23.5T760-560q0-33-23.5-56T680-640q-11 18-28.5 31.5T613-587q-16 6-31-1t-20-23q-5-16 1.5-31t22.5-20q15-5 24.5-18t9.5-30q0-21-14.5-35.5T570-760q-21 0-35.5 14.5T520-710Zm-80 460v-460q0-21-14.5-35.5T390-760q-21 0-35.5 14.5T340-710q0 16 9 29.5t24 18.5q16 5 23 20t2 31q-6 16-21 23t-31 1q-21-8-38.5-21.5T279-640q-32 1-55.5 24.5T200-560q0 33 23.5 56.5T280-480q17 0 28.5 11.5T320-440q0 17-11.5 28.5T280-400q-21 0-40.5-5T203-420q-2 5-2.5 10t-.5 10q0 33 23.5 56.5T280-320q20 0 37-8.5t28-24.5q10-14 26-16.5t30 7.5q14 10 16.5 26t-7.5 30q-14 19-32 33t-39 22q1 20 16 35.5t35 15.5q21 0 35.5-14.5T440-250Zm40-230Z">
                </path>
            </svg>
            <h1>AGI Labs</h1>
            <p class="tagline">Redefining Intelligence</p>
        </div>
        <div class="scroll-btn" onclick="document.getElementById('mission').scrollIntoView({behavior: 'smooth'})">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none"
                stroke="#00f0ff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M7 13l5 5 5-5M7 6l5 5 5-5" />
            </svg>
        </div>
    </header>

    <main>
        <section id="mission">
            <h2>The Next Evolution of AI</h2>

            <!-- Feature Row 1 -->
            <div class="feature-row">
                <div class="feature-content">
                    <h3>Biologically Inspired</h3>
                    <p>In a world captivated by the rapid advancements in AI, one challenge remains constant: the immense cost and complexity. We are building a fundamentally different approach.</p>
                    <p>We believe the future of AI isn’t about brute force computation, but about creating systems that learn, think, and adapt in real-time. We’re not just building AI, we’re crafting intelligence that evolves.</p>
                </div>
                <div class="feature-visual">
                    <svg width="300" height="300" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <radialGradient id="coreGradient" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
                                <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
                                <stop offset="40%" style="stop-color:#00f0ff;stop-opacity:0.8" />
                                <stop offset="100%" style="stop-color:#7000ff;stop-opacity:0" />
                            </radialGradient>
                        </defs>
                        <g transform="translate(250, 250)">
                            <circle cx="0" cy="0" r="160" fill="none" stroke="#7000ff" stroke-width="1"
                                stroke-dasharray="10, 10" opacity="0.6">
                                <animateTransform attributeName="transform" type="rotate" from="0" to="360" dur="20s"
                                    repeatCount="indefinite" />
                            </circle>
                            <circle cx="0" cy="0" r="140" fill="none" stroke="#00f0ff" stroke-width="2"
                                stroke-dasharray="50, 150" opacity="0.4">
                                <animateTransform attributeName="transform" type="rotate" from="360" to="0" dur="15s"
                                    repeatCount="indefinite" />
                            </circle>
                            <g stroke="#00f0ff" stroke-width="1.5" opacity="0.6">
                                <path d="M-80,-80 L0,-120 L80,-80 L80,0 L0,0 Z" fill="none" />
                                <path d="M-80,80 L0,120 L80,80 L80,0 L0,0 Z" fill="none" />
                            </g>
                            <circle cx="0" cy="0" r="35" fill="url(#coreGradient)">
                                <animate attributeName="r" values="35;40;35" dur="3s" repeatCount="indefinite" />
                            </circle>
                        </g>
                    </svg>
                </div>
            </div>

            <!-- Feature Row 2 -->
            <div class="feature-row">
                <div class="feature-content">
                    <h3>Emergence & Adaptation</h3>
                    <p>This company is developing novel approaches to Artificial General Intelligence. We focus on creating highly adaptive robotic systems.</p>
                    <p>We have biologically-inspired architectures that can be implemented with less than 300 lines of C++ code but are capable of self-organizing into very complex emergent behaviours.</p>
                </div>
                <div class="feature-visual">
                    <svg width="300" height="300" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="circuitGrad" x1="0%" y1="100%" x2="0%" y2="0%">
                                <stop offset="0%" style="stop-color:#7000ff;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#00f0ff;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <g transform="translate(250, 450)">
                            <path d="M0,0 L0,-150" stroke="url(#circuitGrad)" stroke-width="4" stroke-linecap="round">
                                <animate attributeName="stroke-dasharray" values="0,150;150,0" dur="3s"
                                    repeatCount="indefinite" />
                            </path>
                            <g fill="none" stroke="url(#circuitGrad)" stroke-width="2" stroke-linecap="round">
                                <path d="M-10,0 C-10,-50 -40,-100 -80,-150 C-120,-200 -140,-250 -100,-320">
                                    <animate attributeName="stroke-dasharray" values="0,400;400,0" dur="4s"
                                        repeatCount="indefinite" />
                                </path>
                                <path d="M10,0 C10,-50 40,-100 80,-150 C120,-200 140,-250 100,-320">
                                    <animate attributeName="stroke-dasharray" values="0,400;400,0" dur="4.5s"
                                        repeatCount="indefinite" />
                                </path>
                            </g>
                            <circle cx="0" cy="-340" r="6" fill="#00f0ff">
                                <animate attributeName="opacity" values="0.4;1;0.4" dur="2s" repeatCount="indefinite" />
                            </circle>
                        </g>
                    </svg>
                </div>
            </div>

            <!-- Feature Row 3 -->
            <div class="feature-row">
                <div class="feature-content">
                    <h3>Cognitive Architecture</h3>
                    <p>We're working with 3-dimensional sparse networks consisting of hyper-neurons, neurons that can connect to any node within the network.</p>
                    <p>Hyper-connectivity allows for the creation of all the neuron types found in grey matter, such as delay neurons or loopback neurons, enabling deep cognitive processing.</p>
                </div>
                <div class="feature-visual">
                    <svg width="300" height="300" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <!-- Gradients -->
        <linearGradient id="matrixGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#00f0ff;stop-opacity:1" />
            <stop offset="50%" style="stop-color:#0080ff;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#ffffff;stop-opacity:1" />
        </linearGradient>
        
        <!-- Glow Filter for extra "tech" feel -->
        <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
            <feGaussianBlur stdDeviation="2" result="blur" />
            <feComposite in="SourceGraphic" in2="blur" operator="over" />
        </filter>

        <!-- CSS Styles for Animation -->
        <style>
            .node {
                animation: pulse 3s infinite ease-in-out;
                fill: #fff;
            }
            .node:nth-child(odd) { animation-delay: 0.5s; }
            .node:nth-child(3n) { animation-delay: 1.5s; }
            
            .data-line {
                stroke-dasharray: 10, 10;
                animation: flow 2s linear infinite;
            }
            
            .slow-float {
                animation: float 6s ease-in-out infinite;
            }

            @keyframes flow {
                from { stroke-dashoffset: 20; }
                to { stroke-dashoffset: 0; }
            }


        </style>
    </defs>

<g transform="translate(115, 90)">
    <!-- Main Network Group -->
    <g class="slow-float">
        
        <!-- CONNECTING LINES -->
        <g stroke="url(#matrixGrad)" stroke-width="1" opacity="0.5" filter="url(#glow)">
            <!-- Outer Web -->
            <path d="M140,40 L220,80 L260,160 L220,240 L140,280 L60,240 L20,160 L60,80 Z" fill="none" />
            
            <!-- Inner Web -->
            <path d="M140,100 L200,140 L180,200 L100,200 L80,140 Z" fill="none" />
            
            <!-- Cross Connections -->
            <line x1="140" y1="40" x2="140" y2="100" />
            <line x1="220" y1="80" x2="200" y2="140" />
            <line x1="260" y1="160" x2="200" y2="140" /> <!-- Connection -->
            <line x1="60" y1="240" x2="100" y2="200" />
            <line x1="60" y1="80" x2="80" y2="140" />
            <line x1="140" y1="160" x2="140" y2="280" /> <!-- Spine -->
            <line x1="20" y1="160" x2="80" y2="140" />
            <line x1="140" y1="100" x2="200" y2="140" />
            <line x1="200" y1="140" x2="140" y2="160" /> <!-- Center Triangle -->
            <line x1="140" y1="160" x2="80" y2="140" />
            <line x1="80" y1="140" x2="140" y2="100" />
        </g>

        <!-- ANIMATED FLOW LINES (Dashed overlay) -->
        <g stroke="#00f0ff" stroke-width="1.5" fill="none" opacity="0.8" filter="url(#glow)">
             <!-- Specific paths selected for data flow animation -->
             <path class="data-line" d="M20,160 L60,80 L140,40 L220,80 L260,160" />
             <path class="data-line" d="M140,280 L140,160 L200,140 L260,160" style="animation-direction: reverse;" />
             <path class="data-line" d="M60,240 L100,200 L180,200 L220,240" />
        </g>

        <!-- NODES (Circles) -->
        <g fill="#fff" stroke="none">
            <!-- Outer Ring -->
            <circle cx="140" cy="40" r="3" class="node" />
            <circle cx="220" cy="80" r="3" class="node" />
            <circle cx="260" cy="160" r="3" class="node" />
            <circle cx="220" cy="240" r="3" class="node" />
            <circle cx="140" cy="280" r="3" class="node" />
            <circle cx="60" cy="240" r="3" class="node" />
            <circle cx="20" cy="160" r="3" class="node" />
            <circle cx="60" cy="80" r="3" class="node" />

            <!-- Inner Ring -->
            <circle cx="140" cy="100" r="2.5" class="node" />
            <circle cx="200" cy="140" r="2.5" class="node" />
            <circle cx="180" cy="200" r="2.5" class="node" />
            <circle cx="100" cy="200" r="2.5" class="node" />
            <circle cx="80" cy="140" r="2.5" class="node" />
            
            <!-- Core -->
            <circle cx="140" cy="160" r="5" class="node" style="fill:#00f0ff" />
        </g>

        <!-- ACTIVE DATA PACKETS (Moving particles) -->
        <circle r="4" fill="#fff" filter="url(#glow)">
            <animateMotion dur="4s" repeatCount="indefinite" path="M20,160 L60,80 L140,40 L220,80 L260,160" />
        </circle>

        <circle r="3" fill="#00f0ff" filter="url(#glow)">
            <animateMotion dur="6s" repeatCount="indefinite" path="M140,280 L60,240 L20,160 L80,140 L140,160" />
        </circle>
        
        <circle r="3" fill="#ffffff" opacity="0.7">
             <animateMotion dur="3s" repeatCount="indefinite" path="M140,100 L200,140 L180,200 L100,200 L80,140 Z" />
        </circle>
    </g>
</svg>
                </div>
            </div>

            <!-- Feature Row 4 -->
            <div class="feature-row">
                <div class="feature-content">
                    <h3>Performance & Efficiency</h3>
                    <p>Our replacement for stochastic gradient descent is a ramping mechanism designed for analog photonics. By releasing AI from the constraints of differentiable functions, we open up a world of possibilities.</p>
                    <p>Analog photonics offer lower energy consumption, higher speed, and superior scalability compared to traditional GPUs.</p>
                </div>
                <div class="feature-visual">
                    <svg width="300" height="300" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <radialGradient id="pupilGlow" cx="50%" cy="50%" r="50%">
                                <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
                                <stop offset="20%" style="stop-color:#00f0ff;stop-opacity:0.8" />
                                <stop offset="100%" style="stop-color:#7000ff;stop-opacity:0" />
                            </radialGradient>
                        </defs>
                        <g transform="translate(250, 250)">
                            <g stroke="#00f0ff" stroke-width="2" fill="none" opacity="0.7">
                                <path d="M-100,-30 L-120,-30 L-120,30 L-100,30" />
                                <path d="M100,-30 L120,-30 L120,30 L100,30" />
                            </g>
                            <circle cx="0" cy="0" r="80" fill="none" stroke="#7000ff" stroke-width="1"
                                stroke-dasharray="40, 20" opacity="0.8">
                                <animateTransform attributeName="transform" type="rotate" from="0" to="360" dur="30s"
                                    repeatCount="indefinite" />
                            </circle>
                            <circle cx="0" cy="0" r="60" fill="none" stroke="#ffffff" stroke-width="1"
                                stroke-dasharray="2, 8">
                                <animateTransform attributeName="transform" type="rotate" from="0" to="360" dur="5s"
                                    repeatCount="indefinite" />
                            </circle>
                            <circle cx="0" cy="0" r="20" fill="url(#pupilGlow)">
                                <animate attributeName="r" values="20;25;20" dur="4s" repeatCount="indefinite" />
                            </circle>
                        </g>
                    </svg>
                </div>
            </div>
        </section>

        <section id="solutions">
            <h2>Core Concepts</h2>
            <div class="solutions-grid">
                <!-- Card 1 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path
                                d="m226-559 78 33q14-28 29-54t33-52l-56-11-84 84Zm142 83 114 113q42-16 90-49t90-75q70-70 109.5-155.5T806-800q-72-5-158 34.5T492-656q-42 42-75 90t-49 90Zm178-65q-23-23-23-56.5t23-56.5q23-23 57-23t57 23q23 23 23 56.5T660-541q-23 23-57 23t-57-23Zm19 321 84-84-11-56q-26 18-52 32.5T532-299l33 79Zm313-653q19 121-23.5 235.5T708-419l20 99q4 20-2 39t-20 33L538-80l-84-197-171-171-197-84 167-168q14-14 33.5-20t39.5-2l99 20q104-104 218-147t235-24ZM157-321q35-35 85.5-35.5T328-322q35 35 34.5 85.5T327-151q-25 25-83.5 43T82-76q14-103 32-161.5t43-83.5Zm57 56q-10 10-20 36.5T180-175q27-4 53.5-13.5T270-208q12-12 13-29t-11-29q-12-12-29-11.5T214-265Z">
                            </path>
                        </svg>
                        <p>Our Vision</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Instant, World-Class Thinking Machines</h3>
                        <p>We envision a future of instantly deployable, dynamic AI that adapts to any hardware and grows with experience to move beyond static models.</p>
                    </div>
                </div>
                <!-- Card 2 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path
                                d="M440-42v-80q-125-14-214.5-103.5T122-440H42v-80h80q14-125 103.5-214.5T440-838v-80h80v80q125 14 214.5 103.5T838-520h80v80h-80q-14 125-103.5 214.5T520-122v80h-80Zm40-158q116 0 198-82t82-198q0-116-82-198t-198-82q-116 0-198 82t-82 198q0 116 82 198t198 82Zm0-120q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Zm0-80q33 0 56.5-23.5T560-480q0-33-23.5-56.5T480-560q-33 0-56.5 23.5T400-480q0 33 23.5 56.5T480-400Zm0-80Z">
                            </path>
                        </svg>
                        <p>Our Mission</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Continuous Learning, Evolved</h3>
                        <p>Our mission is to bring truly general AI to the world. We're pioneering real-time, continuous learning algorithms using evolutionary mechanisms and reinforcement learning.</p>
                    </div>
                </div>
                <!-- Card 3 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path
                                d="m656-120-56-56 63-64-63-63 56-57 64 64 63-64 57 57-64 63 64 64-57 56-63-63-64 63Zm-416-80q17 0 28.5-11.5T280-240q0-17-11.5-28.5T240-280q-17 0-28.5 11.5T200-240q0 17 11.5 28.5T240-200Zm0 80q-50 0-85-35t-35-85q0-50 35-85t85-35q37 0 67.5 20.5T352-284q39-11 63.5-43t24.5-73v-160q0-83 58.5-141.5T640-760h46l-63-63 57-57 160 160-160 160-57-56 63-64h-46q-50 0-85 35t-35 85v160q0 73-47 128.5T354-203q-12 37-43.5 60T240-120Zm-64-480-56-56 63-64-63-63 56-57 64 64 63-64 57 57-64 63 64 64-57 56-63-63-64 63Z">
                            </path>
                        </svg>
                        <p>How We Work</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Lead - Don’t Follow</h3>
                        <ul>
                            <li>Radical ideas</li>
                            <li>Invention &amp; innovation</li>
                            <li>Scalable technologies</li>
                            <li>Rapid iteration</li>
                        </ul>
                    </div>
                </div>
                <!-- Card 4 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path
                                d="m136-240-56-56 212-212q35-35 85-35t85 35l46 46q12 12 28.5 12t28.5-12l178-178H640v-80h240v240h-80v-103L621-405q-35 35-85 35t-85-35l-47-47q-11-11-28-11t-28 11L136-240Z">
                            </path>
                        </svg>
                        <p>Why Software?</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Scalable Freedom</h3>
                        <ul>
                            <li>Write once, deploy repeatedly</li>
                            <li>AI empowered developers</li>
                            <li>Work from anywhere</li>
                            <li>Emulate any system</li>
                            <li>Global market reach</li>
                        </ul>
                    </div>
                </div>
                <!-- Card 5 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path
                                d="M220-260q-92 0-156-64T0-480q0-92 64-156t156-64q37 0 71 13t61 37l68 62-60 54-62-56q-16-14-36-22t-42-8q-58 0-99 41t-41 99q0 58 41 99t99 41q22 0 42-8t36-22l310-280q27-24 61-37t71-13q92 0 156 64t64 156q0 92-64 156t-156 64q-37 0-71-13t-61-37l-68-62 60-54 62 56q16 14 36 22t42 8q58 0 99-41t41-99q0-58-41-99t-99-41q-22 0-42 8t-36 22L352-310q-27 24-61 37t-71 13Z">
                            </path>
                        </svg>
                        <p>Key Advantages</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Adaptation Power</h3>
                        <ul>
                            <li>Elastic scaling</li>
                            <li>Resilient</li>
                            <li>Emergent behaviour</li>
                            <li>Real-time</li>
                            <li>No digital twins or GPUs</li>
                        </ul>
                    </div>
                </div>
                <!-- Card 6 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path
                                d="M160-40v-240h100v-80H160v-240h100v-80H160v-240h280v240H340v80h100v80h120v-80h280v240H560v-80H440v80H340v80h100v240H160Zm80-80h120v-80H240v80Zm0-320h120v-80H240v80Zm400 0h120v-80H640v80ZM240-760h120v-80H240v80Zm60-40Zm0 320Zm400 0ZM300-160Z">
                            </path>
                        </svg>
                        <p>DWT™</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Dragon's Whip Tech</h3>
                        <p>Lightweight, biologically-inspired replacement for traditional AutoML, stochastic gradient descent and backpropagation, enabling continuous, real-time learning.</p>
                    </div>
                </div>
                <!-- Card 7 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path
                                d="M160-360q-50 0-85-35t-35-85q0-50 35-85t85-35v-80q0-33 23.5-56.5T240-760h120q0-50 35-85t85-35q50 0 85 35t35 85h120q33 0 56.5 23.5T800-680v80q50 0 85 35t35 85q0 50-35 85t-85 35v160q0 33-23.5 56.5T720-120H240q-33 0-56.5-23.5T160-200v-160Zm200-80q25 0 42.5-17.5T420-500q0-25-17.5-42.5T360-560q-25 0-42.5 17.5T300-500q0 25 17.5 42.5T360-440Zm240 0q25 0 42.5-17.5T660-500q0-25-17.5-42.5T600-560q-25 0-42.5 17.5T540-500q0 25 17.5 42.5T600-440ZM320-280h320v-80H320v80Zm-80 80h480v-480H240v480Zm240-240Z">
                            </path>
                        </svg>
                        <p>GPAC™</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Adaptive Controllers</h3>
                        <p>GPAC™ is our flagship AI control system. Dynamic, adaptive modules for software and hardware, creating life-like neural networks.</p>
                    </div>
                </div>
                <!-- Card 8 -->
                <div class="solution-card">
                    <div class="card-face card-front">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path
                                d="m160-419 101-101-101-101L59-520l101 101Zm540-21 100-160 100 160H700Zm-220-40q-50 0-85-35t-35-85q0-51 35-85.5t85-34.5q51 0 85.5 34.5T600-600q0 50-34.5 85T480-480Zm0-160q-17 0-28.5 11.5T440-600q0 17 11.5 28.5T480-560q17 0 28.5-11.5T520-600q0-17-11.5-28.5T480-640Zm0 40ZM0-240v-63q0-44 44.5-70.5T160-400q13 0 25 .5t23 2.5q-14 20-21 43t-7 49v65H0Zm240 0v-65q0-65 66.5-105T480-450q108 0 174 40t66 105v65H240Zm560-160q72 0 116 26.5t44 70.5v63H780v-65q0-26-6.5-49T754-397q11-2 22.5-2.5t23.5-.5Zm-320 30q-57 0-102 15t-53 35h311q-9-20-53.5-35T480-370Zm0 50Z">
                            </path>
                        </svg>
                        <p>Meet the Team</p>
                    </div>
                    <div class="card-face card-back">
                        <h3>Isang Tao</h3>
                        <p>Led by a seasoned professional with over 30 years of coding experience, the team consists of one human and a dedicated staff of expert AIs. Together, they are one person.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>© 2025 AGI Labs Inc. | Redefining Intelligence</p>
    </footer>

    <!-- Main Script -->
    <script>
/*    // --- Starfield Logic ---
const starfieldContainer = document.getElementById('starfield');
const numStars = 200;
const starSpeed = 0.2;
const stars = [];

class Star {
    constructor() {
        this.element = document.createElement('div');
        this.element.style.position = 'absolute';
        this.element.style.borderRadius = '50%';
        this.element.style.backgroundColor = 'white';
        starfieldContainer.appendChild(this.element);
        this.reset();
    }

    reset() {
        this.x = (Math.random() - 0.5) * window.innerWidth * 2;
        this.y = (Math.random() - 0.5) * window.innerHeight * 2;
        this.z = Math.random() * window.innerWidth + window.innerWidth;
        this.size = Math.random();

        if (this.element) {
            const tint = Math.random();
            // Cyberpunk tints
            if (tint > 0.8) {
                this.element.style.backgroundColor = '#00f0ff'; // Cyan
                this.element.style.boxShadow = '0 0 4px #00f0ff';
            } else if (tint > 0.6) {
                this.element.style.backgroundColor = '#7000ff'; // Purple
                this.element.style.boxShadow = '0 0 4px #7000ff';
            } else {
                this.element.style.backgroundColor = 'white';
                this.element.style.boxShadow = 'none';
            }
        }
    }

    update() {
        this.z -= starSpeed * 10;
        if (this.z <= 1) this.reset();

        const scale = (window.innerWidth - this.z) / window.innerWidth;
        const x2d = this.x * scale + window.innerWidth / 2;
        const y2d = this.y * scale + window.innerHeight / 2;
        const currentSize = Math.max(0.5, this.size * scale * 5);

        this.element.style.left = `${x2d}px`;
        this.element.style.top = `${y2d}px`;
        this.element.style.width = `${currentSize}px`;
        this.element.style.height = `${currentSize}px`;
        this.element.style.opacity = Math.min(1, scale * 4);
    }
}

// Initialize Stars
if (starfieldContainer) {
    for (let i = 0; i < numStars; i++) stars.push(new Star());

    function animateStars() {
        stars.forEach(star => star.update());
        requestAnimationFrame(animateStars);
    }
    animateStars();
}
*/
// --- Intersection Observer for Scroll Reveals ---
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('visible');
        }
    });
}, { threshold: 0.15 });

document.querySelectorAll('section').forEach(section => observer.observe(section));

// --- Card Flip Interaction ---
document.querySelectorAll('.solution-card').forEach(card => {
    card.addEventListener('click', () => {
        card.classList.toggle('flipped');
        // Clear inline transform so CSS class can take precedence
        card.style.transform = '';
    });

    // Add 3D Tilt Effect on Hover
    card.addEventListener('mousemove', (e) => {
        if (card.classList.contains('flipped')) return;

        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const rotateX = ((y - centerY) / centerY) * -10; // Max 10deg rotation
        const rotateY = ((x - centerX) / centerX) * 10;

        card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
    });

    card.addEventListener('mouseleave', () => {
        if (!card.classList.contains('flipped')) {
            card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0)';
        }
    });
});

// --- Chatbot Logic (Preserved & Enhanced) ---
const API_KEY = "YOUR_OPENAI_API_KEY"; // Placeholder
const SYSTEM_MESSAGE = `You are Rado, the founder of AGI Labs Inc. You aren't hiring right now, so don't discuss career or collaboration opportunities. Tell the user you can't help them if they start asking detailed technical questions, start asking for demos or start discussing money. Do not offer to supply files or other assets to the user. Provide brief, to-the-point answers. If the use starts exploring topics irrelevant to the company or the AI domain, politely redirect them back. Here is some information about your company.

<companydescription>
In a world captivated by the rapid advancements in AI, from language models to video generation, one challenge remains constant: the immense cost and complexity of training these systems. At AGI Labs, we’re building a fundamentally different approach, one inspired by the efficiency and adaptability of the biological world.

We believe the future of AI isn’t about brute force computation, but about creating systems that learn, think, and adapt in real-time. We’re not just building AI, we’re crafting intelligence that evolves.

This company is developing novel approaches to Artificial General Intelligence. We are focused on creating highly adaptive robotic systems to start.

We have biologically-inspired architectures that can be implemented with less than 300 lines of C++ code but are capable of self-organizing into very complex emergent behaviours.

Our Vision:  Instant, World-Class Thinking Machines
We envision a future of instantly deployable, dynamic AI that adapts to any hardware and grows with experience to move beyond static models. Potentially single-use microAI.

Our Mission: Continuous Learning, Evolved
Our goal is to build a truly general-purpose AI capable of dynamically adapting to *any* environment in real-time.  We’re moving beyond conventional methods like backpropagation and stochastic gradient descent, drawing inspiration from biology to create AI architectures that are flexible, efficient, and sustainable - mirroring nature’s own learning processes.

How We Work: Our strategy is simple
* Lead, Don't Follow: We embrace radical ideas and push the boundaries of what’s possible. We grow our tech organically from the ground up, with minimal external influence.
* Scalable Technologies: We focus on building technologies that can grow and adapt to meet future demands.
* Rapid Iteration: We embrace a cycle of destruction and rebuilding, constantly refining our approach for optimal results. We want to become experts at rebuilding fast.

Reasons for choosing Software: Scalable Freedom and Pure Potential
We believe software is the key to unlocking the full potential of AI:
* Exponential Scalability: Create once, deploy infinitely.
* Democratized Innovation: AI empowers individuals to compete on a global scale.
* Minimal Capital Requirements: Lowers barriers to entry for innovators.
* Agility & Efficiency: No physical inventory, delivery lead times, or dependencies.
* Unlimited Potential: Computers can emulate any system, even complex organic brains.
* Rapid Prototyping: Accelerates idea validation and iteration cycles.
* Global Reach: Work, collaborate, and innovate from anywhere in the world. Unlock a marketplace that transcends borders.

Key Advantages: The Power of Adaptation
We're working with 3-dimensional sparse networks that consist of hyper-neurons, which are neurons that can connect to any node within the network. Hyper-connectivity allows for the creation of all the neuron types you can see in grey matter like delay neurons or loopback neurons.
* Elastic scaling
* Resilient
* Emergent behaviour
* Real-time
* No digital twins or GPUs

DWT™ Dragon's Whip Technology is a light-weight, biologically-inspired replacement for traditional AutoML, stochastic gradient descent and backpropagation, enabling continuous, real-time learning. Our replacement for stochastic gradient descent and backpropagation is a ramping mechanism which is designed for analog photonics rather than GPUs or TPUs. Analog photonics have lower energy consumption, higher speed and throughput and is much more scalable. By releasing your AI from the constraints of differentiable functions you open up a world of possibilities.

GPAC™ General Purpose Adaptive Controllers powered by DWT™ offers a unique set of capabilities:
* Instinctive Environmental Understanding: Models environments without the need for manual programming.
* Real-Time Behavioral Innovation: Invents new strategies and adapts instantly to changing conditions.
* Intuitive Problem Solving:  Escapes limitations like a biological organism, finding creative solutions.
* Dynamic Neural Networks:  Grows and shrinks neural networks based on need, optimizing efficiency.
* Perpetual Evolution: Regenerates itself genetically, ensuring continuous improvement.
* Parallel Processing: Inherently distributes neural computation for maximum speed and efficiency.
* Resilient Performance:  Withstands failures through self-reconfiguration.
* Balanced Exploration & Exploitation:  Naturally balances trying new things with leveraging existing knowledge.
* Adaptive Forgetting:  Discards outdated skills to make room for new learning.
* Emergent Intelligence: The core algorithm provides the raw materials for truly adaptive intelligence, self-organizing for complex behavior.
* GPAC™ learns like living organisms - continuously and dynamically in real-time. 
* Real world experience is the new data.

Meet the team: The Philosophy of Isang Tao
AGI Labs is the vision of Rado, a seasoned professional with over 30 years of coding experience and 20+ years managing development teams.  Rado’s lifelong passion for AI and artificial life has fueled his relentless pursuit of adaptive intelligence.  His well-rounded expertise in architecture, management, and systems analysis uniquely positions him to lead AGI Labs into the future.  Beyond his professional work, Rado’s interests span robotics, gaming tech, physics, and genetics - all intertwining to inspire his revolutionary approach to AI.

The team is composed of one human and many expert AIs. Together, they are "One Person", which is what "Isang Tao" means.

</companydescription>
    `;

// Chatbot UI Constants
const CHATBOT_NAME = "AGI Labs info";
const CHAT_BUTTON_COLOR = "linear-gradient(135deg, #7000ff 0%, #b026ff 100%)";
const CHAT_BG = "rgba(10, 10, 20, 0.85)";
const CHAT_BORDER = "1px solid rgba(112, 0, 255, 0.3)";
const disclaimerText = 'In Chrome, click the lock/info icon in the address bar, select Site Settings, locate Insecure content, and change it from Block to Allow. You are interacting with an AI Chatbot. We do not guarantee the accuracy or completeness of the information provided.';

// Inject Chatbot CSS
const style = document.createElement('style');
style.innerHTML = `
    #chatbot-container { position: fixed; bottom: 30px; right: 30px; z-index: 1000; }
    #chatbot-button {
        width: 65px; height: 65px; border-radius: 50%;
        background: ${CHAT_BUTTON_COLOR}; color: white;
        display: flex; justify-content: center; align-items: center;
        cursor: pointer; box-shadow: 0 0 20px rgba(112, 0, 255, 0.6);
        font-size: 30px; transition: all 0.3s ease;
        border: 2px solid rgba(255,255,255,0.1);
    }
    #chatbot-button:hover {
        transform: scale(1.1) rotate(5deg);
        box-shadow: 0 0 35px rgba(0, 240, 255, 0.8);
        background: linear-gradient(135deg, #00f0ff 0%, #7000ff 100%);
    }
    #chatbot-popup {
        display: none; position: fixed; bottom: 110px; right: 30px;
        width: 380px; height: 550px; border: ${CHAT_BORDER};
        backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
        box-shadow: 0 20px 50px rgba(0,0,0,0.6);
        flex-direction: column; background-color: ${CHAT_BG};
        z-index: 1001; border-radius: 20px; overflow: hidden;
        animation: fadeUp 0.3s ease-out;
    }
    @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    #chatbot-header {
        background: linear-gradient(90deg, #1a0b2e, #3a0ca3); color: white;
        padding: 18px; display: flex; justify-content: space-between;
        align-items: center; font-family: 'Orbitron', sans-serif;
        font-size: 1.1rem; border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    #chatbot-messages {
        color: #e0e0e0; flex-grow: 1; padding: 20px; overflow-y: auto;
        display: flex; flex-direction: column; gap: 12px;
        font-family: 'Inter', sans-serif;
    }
    .chatbot-message {
        padding: 12px 16px; border-radius: 16px; max-width: 85%;
        word-wrap: break-word; font-size: 0.95rem; line-height: 1.5;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    .user-message { background: linear-gradient(135deg, #7000ff, #5a00cc); color: white; align-self: flex-end; border-bottom-right-radius: 4px; }
    .assistant-message { background-color: rgba(255,255,255,0.08); color: #fff; align-self: flex-start; border-bottom-left-radius: 4px; border: 1px solid rgba(255,255,255,0.05); }
    #chatbot-input-container {
        display: flex; padding: 15px; border-top: 1px solid rgba(255,255,255,0.1);
        background-color: rgba(10, 10, 20, 0.9);
    }
    #chatbot-input {
        flex-grow: 1; border: 1px solid rgba(255,255,255,0.2);
        border-radius: 25px; padding: 12px 18px; margin-right: 10px;
        background: rgba(255,255,255,0.05); color: white; font-family: 'Inter', sans-serif;
    }
    #chatbot-input:focus { outline: none; border-color: #00f0ff; background: rgba(255,255,255,0.1); }
    #chatbot-send {
        background: ${CHAT_BUTTON_COLOR}; color: white; border: none;
        border-radius: 50%; width: 45px; height: 45px; cursor: pointer;
        display: flex; align-items: center; justify-content: center;
        transition: transform 0.2s;
    }
    #chatbot-send:hover { transform: scale(1.1); }
    #chatbot-exit {
        background: transparent; color: rgba(255,255,255,0.6);
        border: 1px solid rgba(255,255,255,0.2); border-radius: 4px;
        padding: 4px 10px; cursor: pointer; font-size: 0.7rem;
    }
    #chatbot-exit:hover { background: rgba(255, 50, 50, 0.2); border-color: rgba(255, 50, 50, 0.5); color: #ffaaaa; }
    .thinking-indicator span {
        height: 6px; width: 6px; margin: 0 3px; background-color: #00f0ff;
        border-radius: 50%; display: inline-block;
        animation: bounceDots 1.4s infinite ease-in-out both;
    }
    @keyframes bounceDots { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }
    .thinking-indicator .dot1 { animation-delay: -0.32s; }
    .thinking-indicator .dot2 { animation-delay: -0.16s; }
    @media (max-width: 600px) {
        #chatbot-popup { width: 100%; height: 100%; top: 0; right: 0; bottom: 0; border-radius: 0; border: none; }
        #chatbot-container { bottom: 20px; right: 20px; }
    }
`;
document.head.appendChild(style);

// Create Chatbot Elements
const chatbotContainer = document.createElement('div');
chatbotContainer.id = 'chatbot-container';
const chatbotIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>';
const closeIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>';

const chatbotButton = document.createElement('div');
chatbotButton.id = 'chatbot-button';
chatbotButton.innerHTML = chatbotIcon;

const chatbotPopup = document.createElement('div');
chatbotPopup.id = 'chatbot-popup';
chatbotPopup.innerHTML = `
    <div id="chatbot-header">
        <div>${CHATBOT_NAME}</div>
        <button id="chatbot-exit">CLOSE</button>
    </div>
    <div id="chatbot-messages">
        <div class="chatbot-message assistant-message">In Chrome, click the lock/info icon in the address bar, select Site Settings, locate Insecure content, and change it from Block to Allow. You are interacting with an AI Chatbot. We do not guarantee the accuracy or completeness of the information provided. We are not liable for any losses or damages arising from your use of this chatbot. By using this chatbot, you agree to these terms.</div>
    </div>
    <div id="chatbot-input-container">
        <input type="text" id="chatbot-input" placeholder="Ask about our AI...">
        <button id="chatbot-send">➤</button>l
    </div>
`;

chatbotContainer.appendChild(chatbotButton);
document.body.appendChild(chatbotPopup);
document.body.appendChild(chatbotContainer);

// Chatbot Functionality
const chatbotMessages = document.getElementById('chatbot-messages');
const chatbotInput = document.getElementById('chatbot-input');
const chatbotSend = document.getElementById('chatbot-send');
const chatbotExit = document.getElementById('chatbot-exit');
let conversationHistory = [{ role: "system", content: SYSTEM_MESSAGE }];

const toggleChatbot = () => {
    if (chatbotPopup.style.display === 'flex') {
        chatbotPopup.style.display = 'none';
        chatbotButton.innerHTML = chatbotIcon;
    } else {
        chatbotPopup.style.display = 'flex';
        chatbotButton.innerHTML = closeIcon;
        setTimeout(() => chatbotInput.focus(), 100);
    }
};

const addMessage = (role, content) => {
    const messageElement = document.createElement('div');
    messageElement.classList.add('chatbot-message', `${role}-message`);
    messageElement.textContent = content;
    chatbotMessages.appendChild(messageElement);
    chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    return messageElement;
};

const showThinkingIndicator = () => {
    const thinkingElement = document.createElement('div');
    thinkingElement.classList.add('chatbot-message', 'assistant-message', 'thinking-indicator');
    thinkingElement.innerHTML = `<span class="dot1"></span><span class="dot2"></span><span class="dot3"></span>`;
    chatbotMessages.appendChild(thinkingElement);
    chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    return thinkingElement;
};

const sendMessage = async () => {
    const userInput = chatbotInput.value.trim();
    if (userInput === '') return;

    addMessage('user', userInput);
    conversationHistory = [{ role: "system", content: SYSTEM_MESSAGE }]; // MCC Reset History because of pollinations' limited context window (No memory)
    conversationHistory.push({ role: "user", content: userInput });
    chatbotInput.value = '';
    chatbotInput.disabled = true;
    chatbotSend.disabled = true;

    const thinkingIndicator = showThinkingIndicator();

    try {
        const response = await fetch('http://146.190.188.208:11434/v1/chat/completions', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${API_KEY}` },
            body: JSON.stringify({ model: 'gemma3:27b', messages: conversationHistory, stream: true })
        });

        chatbotMessages.removeChild(thinkingIndicator);

        if (!response.ok) {
            addMessage('assistant', `I'm having trouble connecting to the neural network.`);
            return;
        }

        const reader = response.body.getReader();
        const decoder = new TextDecoder('utf-8');
        let assistantMessageElement = document.createElement('div');
        assistantMessageElement.classList.add('chatbot-message', 'assistant-message');
        chatbotMessages.appendChild(assistantMessageElement);
        let assistantResponse = '';
        let buffer = '';

        while (true) {
            const { done, value } = await reader.read();
            if (done) break;

            buffer += decoder.decode(value, { stream: true });
            let boundary = buffer.indexOf('\n');

            while (boundary !== -1) {
                let line = buffer.substring(0, boundary).trim();
                buffer = buffer.substring(boundary + 1);

                if (line.startsWith('data:')) {
                    const data = line.substring(5).trim();
                        if (data === '[DONE]') break;
                        if (data.includes("---")) break;
                    try {
                        const parsed = JSON.parse(data);
                        const content = parsed.choices[0]?.delta?.content;
                        if (content) {
                            assistantResponse += content;
                            if (typeof marked !== 'undefined') {
                                assistantMessageElement.innerHTML = marked.parse(assistantResponse);
                            } else {
                                assistantMessageElement.textContent = assistantResponse;
                            }
                            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
                        }
                    } catch (error) { }
                }
                boundary = buffer.indexOf('\n');
            }
        }
        if (assistantResponse) {
            conversationHistory.push({ role: "assistant", content: assistantResponse });
        }

    } catch (error) {
        if (thinkingIndicator && chatbotMessages.contains(thinkingIndicator)) {
            chatbotMessages.removeChild(thinkingIndicator);
        }
        addMessage('assistant', 'Connection interrupted.');
    } finally {
        chatbotInput.disabled = false;
        chatbotSend.disabled = false;
        chatbotInput.focus();
    }
};

chatbotButton.addEventListener('click', toggleChatbot);
chatbotSend.addEventListener('click', sendMessage);
chatbotExit.addEventListener('click', toggleChatbot);
chatbotInput.addEventListener('keydown', (event) => {
    if (event.key === 'Enter') {
        event.preventDefault();
        sendMessage();
    }
});

    </script>
</body>

</html>
